---
interface Props {
  title: string;
}

const { title } = Astro.props;
import Navbar from '../components/Navbar.astro';
---

<!doctype html>
<html lang="pt-BR" class="overflow-x-hidden">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="description" content="Wikimee - Gerencie projetos e clientes em um único lugar. Organize tarefas, acompanhe prazos e centralize comunicação." />
    <link rel="icon" type="image/webp" href="/favicon.webp" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://wikimee.com.br/" />
    <meta property="og:title" content="Wikimee - A Plataforma Operacional para Agências" />
    <meta property="og:description" content="Chega de 5 ferramentas. Gerencie projetos, clientes e financeiro em um só lugar. A única feita de agência para agência." />
    <meta property="og:image" content="/og-image.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://wikimee.com.br/" />
    <meta property="twitter:title" content="Wikimee - A Plataforma Operacional para Agências" />
    <meta property="twitter:description" content="Chega de 5 ferramentas. Gerencie projetos, clientes e financeiro em um só lugar. A única feita de agência para agência." />
    <meta property="twitter:image" content="/og-image.png" />

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body class="bg-[#0A0515] text-gray-900 font-sans antialiased overflow-x-hidden w-full max-w-[100vw]">
    <div class="relative w-full overflow-x-hidden">
      <Navbar />
      <slot />
    </div>
    
    <!-- Mobile Sticky CTA (Só aparece no mobile após scroll) -->
    <div id="sticky-cta" class="fixed bottom-4 left-4 right-4 z-40 transform translate-y-[150%] transition-transform duration-300 md:hidden">
      <button 
        onclick="openModal()"
        class="bg-gradient-to-r from-[#7C3AED] to-[#DB2777] hover:brightness-110 text-white text-[0.875rem] font-bold px-[1.5rem] py-[0.75rem] rounded-full shadow-[0_0_20px_rgba(124,58,237,0.4)] border border-white/20 transition-all"
      >
        Agendar Demo
      </button>
    </div>
    <!-- Script para controlar Sticky CTA -->
    <script is:inline>
      window.addEventListener('scroll', () => {
        const stickyCta = document.getElementById('sticky-cta');
        if (window.scrollY > 500) { // Aparece após 500px de scroll
          stickyCta.classList.remove('translate-y-[150%]');
        } else {
          stickyCta.classList.add('translate-y-[150%]');
        }
      });
    </script>
  </body>
</html>

<style is:global>
  @import '../styles/design-system.css';
  @tailwind base;
  @tailwind components;
  @tailwind utilities;
  
  /* Fade-in animation para seções */
  .fade-section {
    opacity: 0;
    transform: translateY(2rem);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  
  .fade-section.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<!-- Global IntersectionObserver para fade-in -->
<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });
    
    document.querySelectorAll('.fade-section').forEach(el => {
      observer.observe(el);
    });
  });
</script>
